<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Retrouvez vos articles préféré, fabriquer avec soins par nos main, venez jeter un coup d'oeil !">
    <title>Le magasin main | Orinoco</title>
    <link rel="stylesheet" href="./.public/css/style.css">
</head>
<body>
    <header>
        <img src="./images/logo.png" alt="Logo d'Orinoco représentant un caddie">
        <span id="go_cart">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M6 16C4.9 16 4.01 16.9 4.01 18C4.01 19.1 4.9 20 6 20C7.1 20 8 19.1 8 18C8 16.9 7.1 16 6 16ZM0 0V2H2L5.6 9.59L4.25 12.04C4.09 12.32 4 12.65 4 13C4 14.1 4.9 15 6 15H18V13H6.42C6.28 13 6.17 12.89 6.17 12.75L6.2 12.63L7.1 11H14.55C15.3 11 15.96 10.59 16.3 9.97L19.88 3.48C19.96 3.34 20 3.17 20 3C20 2.45 19.55 2 19 2H4.21L3.27 0H0ZM16 16C14.9 16 14.01 16.9 14.01 18C14.01 19.1 14.9 20 16 20C17.1 20 18 19.1 18 18C18 16.9 17.1 16 16 16Z" fill="black"/>
            </svg>
        </span>
    </header>

    <section role="main" class="main">
        <h1 class="title">Mon produit</h1>
        <div class="content__homeBox">
            <div class="homeBox">
                <div class="homeBox__visual">
                    <img id="productImg" src="./images/oak_1.jpg" alt="Description de l'objet">                    
                </div>
            </div>
            <h2>Description</h2>
            <p id="productDescription">Lorem ipsum dolor sit amet consectetur adipisicing elit. Officiis voluptatibus officia ipsam corrupti rem velit praesentium quas culpa! Asperiores dolor, nobis nostrum dolorum neque corrupti odit officia harum id mollitia. 
            </p>
    
            <h2>Couleur</h2>
            <select name="pets" id="pet-select">
                <option value="">--Please choose an option--</option>
                <option value="dog">Dog</option>
                <option value="cat">Cat</option>
                <option value="hamster">Hamster</option>
                <option value="parrot">Parrot</option>
            </select>
            <button class="callToAction">Ajouter au panier</button>
    
    
            
        </div>
    </section>
</body>
<script>

const queryString = window.location.search;
const urlParams = new URLSearchParams(queryString);
const productId = urlParams.get('id')
console.log(productId);


var request = new XMLHttpRequest();
request.onreadystatechange = function() {
    if (this.readyState == XMLHttpRequest.DONE && this.status == 200) {
        var response = JSON.parse(this.responseText);

        let description = document.getElementById('productDescription');
        description.textContent = response.description;

        let image = document.getElementById('productImg');
        image.src = response.imageUrl;
    }
}


let url = "http://localhost:3000/api/teddies/" + productId;
console.log(url);
request.open("GET", url);
request.send();

</script>
</html>